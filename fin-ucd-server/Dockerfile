ARG UCD_CORE_SERVER_VERSION
FROM ucdlib/fin-ucd-core-server:${UCD_CORE_SERVER_VERSION}

COPY app-services.js /etc/fin/app-services.js

ARG APP_VERSION
ARG UCD_CORE_SERVER_VERSION
ARG FCREPO_VERSION
ARG PG_VERSION
ARG ELASTIC_SEARCH_VERSION
ARG TRUSTED_PROXY_VERSION
ARG UCD_LIB_CLIENT_VERSION
ARG ESSYNC_VERSION
ARG CAS_VERSION
ARG LORIS_VERSION
ARG TESSERACT_VERSION

ENV APP_VERSION ${APP_VERSION}
ENV FIN_UCD_CORE_SERVER_VERSION ${UCD_CORE_SERVER_VERSION}
ENV FIN_FCREPO_VERSION ${FCREPO_VERSION}
ENV FIN_PG_VERSION ${PG_VERSION}
ENV FIN_ELASTIC_SEARCH_VERSION ${ELASTIC_SEARCH_VERSION}
ENV FIN_TRUSTED_PROXY_VERSION ${TRUSTED_PROXY_VERSION}
ENV FIN_UCD_LIB_CLIENT_VERSION ${UCD_LIB_CLIENT_VERSION}
ENV FIN_ESSYNC_VERSION ${ESSYNC_VERSION}
ENV FIN_CAS_VERSION ${CAS_VERSION}
ENV FIN_LORIS_VERSION ${LORIS_VERSION}
ENV FIN_TESSERACT_VERSION ${LORIS_VERSION}